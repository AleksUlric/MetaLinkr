# Nacos基本配置
# 禁用认证 - 后续需要启用
nacos.core.auth.enabled=false
nacos.core.auth.server.identity.key=nacos-server-identity-key-2024
nacos.core.auth.server.identity.value=nacos-server-identity-value-2024-secure
nacos.core.auth.plugin.nacos.nacos.secret.key=VGhlcmV3ZXJlZ2l2ZW5hbGx0aGluZ3RoZXJlYXNub3RoaW5nbGVmdHRvZ2l2ZVRoZXJld2VyZWdpdmVuYWxsdGhpbmd0aGVyZWFzbm90aGluZ2xlZnR0Z2l2ZVRoZXJld2VyZWdpdmVuYWxsdGhpbmd0aGVyZWFzbm90aGluZ2xlZnR0Z2l2ZVRoZXJld2VyZWdpdmVuYWxsdGhpbmd0aGVyZWFzbm90aGluZ2xlZnR0Z2l2ZQ==

# 服务器配置
server.port=8848
server.servlet.context-path=/nacos

# 数据库配置 - 使用本地MySQL服务 (host网络模式)
spring.datasource.platform=mysql
db.num=1
db.url.0=jdbc:mysql://host.docker.internal:3306/nacos_config?characterEncoding=utf8&connectTimeout=1000&socketTimeout=3000&autoReconnect=true&useSSL=false&allowPublicKeyRetrieval=true
db.user=root
db.password=Xing@1225

# 集群配置
nacos.core.protocol.raft.data.dir=/home/nacos/data/protocol/raft
nacos.core.protocol.raft.snapshot.dir=/home/nacos/data/protocol/raft/snapshot

# 日志配置
nacos.core.log.naming=nacos-naming.log
nacos.core.log.config=nacos-config.log
nacos.core.log.client=nacos-client.log

# 前端配置
server.servlet.session.timeout=7200
server.servlet.session.cookie.max-age=7200
server.servlet.session.cookie.http-only=false
server.servlet.session.cookie.secure=false
server.servlet.session.cookie.same-site=lax

# JWT和认证配置
nacos.core.auth.plugin.nacos.nacos.token.expire.seconds=18000
nacos.core.auth.plugin.nacos.nacos.token.secret.key.expire.seconds=31536000
nacos.core.auth.plugin.nacos.nacos.token.secret.key=VGhlcmV3ZXJlZ2l2ZW5hbGx0aGluZ3RoZXJlYXNub3RoaW5nbGVmdHRvZ2l2ZVRoZXJld2VyZWdpdmVuYWxsdGhpbmd0aGVyZWFzbm90aGluZ2xlZnR0Z2l2ZVRoZXJld2VyZWdpdmVuYWxsdGhpbmd0aGVyZWFzbm90aGluZ2xlZnR0Z2l2ZVRoZXJld2VyZWdpdmVuYWxsdGhpbmd0aGVyZWFzbm90aGluZ2xlZnR0Z2l2ZQ==
nacos.core.auth.plugin.nacos.nacos.token.validity.enabled=true

# 前端页面配置
server.servlet.context-path=/nacos
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# 解决前端路由问题
nacos.core.auth.system.type=nacos
nacos.core.auth.enable.userAgentAuthWhite=false
