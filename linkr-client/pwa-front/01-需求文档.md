# MetaLinkr PWA 需求文档

## 📋 项目概述

**MetaLinkr** 是一个基于Soul风格的PWA社交应用，采用星球概念设计，整合社交交友、匹配系统、聊天互动等功能，通过积分养成系统增强用户粘性。

### 🎯 产品定位
- **目标用户**: 18-35岁年轻用户群体
- **核心价值**: 连接心灵，分享美好
- **产品特色**: Soul风格社交 + 星球概念 + 多元化匹配 + PWA技术

### 🚀 产品愿景
打造一个集社交、匹配、聊天于一体的Soul风格PWA社交平台，让用户在星球中寻找志同道合的朋友，支持离线访问和原生应用体验。

## 🎯 核心功能模块

### 1. 🌍 星球模块 (Planet)
- **星球首页**: Soul风格的主页面，展示用户星球信息
- **星球状态**: 在线人数、星球积分、用户等级
- **星球功能**: 灵魂测试、星座匹配、瞬间发布
- **功能卡片**: 同城卡、加速卡、定位卡等
- **匹配入口**: 灵魂匹配、语音匹配快捷入口

### 2. 🏠 广场模块 (Square)
- **动态浏览**: 用户发布的动态内容
- **互动功能**: 点赞、评论、分享
- **话题讨论**: 热门话题和讨论区
- **内容推荐**: 基于兴趣的个性化推荐

### 3. 💬 聊天模块 (Chat)
- **聊天列表**: 显示所有聊天会话
- **实时聊天**: 支持文字、表情、语音消息
- **群组聊天**: 多人聊天功能
- **聊天详情**: 聊天记录、用户信息

### 4. 🎯 匹配模块 (Match)
- **灵魂匹配**: Soul风格的智能匹配系统
- **语音匹配**: 语音聊天匹配功能
- **滑动匹配**: 类似Tinder的滑动匹配界面
- **匹配结果**: 匹配成功后的结果展示
- **匹配设置**: 年龄范围、性别偏好、距离设置

### 5. 📺 直播模块 (Live)
- **直播列表**: 正在进行的直播展示
- **直播间**: 观看直播、互动聊天
- **直播管理**: 创建直播间、管理观众

### 6. 🎮 游戏模块 (Game)
- **游戏中心**: 游戏信息展示
- **游戏房间**: 创建和加入游戏房间
- **语音开黑**: 游戏内语音聊天

### 7. 🛒 商城模块 (Shop)
- **商品浏览**: 商品分类和详情
- **购物功能**: 购物车、订单管理
- **商品详情**: 商品信息和购买

### 8. 👤 个人中心 (Profile)
- **用户信息**: 个人资料展示和编辑
- **成就系统**: 用户成就和徽章
- **设置功能**: 隐私设置、通知设置
- **个人动态**: 用户发布的内容

### 9. 🔗 连接模块 (Link)
- **在线连接**: 在线用户连接功能
- **离线连接**: 离线状态下的连接方式
- **连接管理**: 连接状态和历史记录

### 10. 🎁 礼物模块 (Gift)
- **礼物商店**: 购买和发送礼物
- **礼物发送**: 向其他用户发送礼物
- **礼物记录**: 礼物收发历史

### 11. 🏆 积分系统 (Points)
- **积分获取**: 通过互动获得积分
- **积分消费**: 购买皮肤、解锁功能
- **等级系统**: 基于积分的用户等级
- **任务系统**: 日常任务和成就挑战

## 🏗️ 技术架构

### 💻 前端技术栈
- **PWA框架**: Vue 3 + Vite
- **UI组件**: Element Plus / Ant Design Vue
- **状态管理**: Pinia
- **路由**: Vue Router
- **PWA功能**: Workbox、Service Worker
- **地图服务**: 高德地图 / 百度地图
- **实时通信**: WebSocket / Socket.io

### 🔧 后端技术栈
- **框架**: Spring Boot
- **数据库**: MySQL + Redis
- **消息队列**: RabbitMQ / Kafka
- **文件存储**: MinIO / 阿里云OSS
- **实时通信**: WebSocket
- **支付**: 微信支付 / 支付宝

## 📱 页面结构设计

### 🏠 主要页面
1. **星球页**: Soul风格主页面，用户星球信息展示
2. **广场页**: 用户动态浏览和互动
3. **聊天页**: 聊天列表和实时聊天功能
4. **个人页**: 用户信息、成就、设置

### 🧭 导航设计
- **底部导航栏**: linkr(星球)、广场、聊天、自己
- **功能入口**: 灵魂测试、星座、直播、游戏、语音派对等
- **搜索功能**: 全局搜索用户、内容、商品
- **消息通知**: 实时消息和通知提醒
- **第三方登录**: 微信、QQ、微博登录支持

## 🔄 用户流程设计

### 👤 新用户注册流程
1. 启动页 → 2. 手机号注册 → 3. 验证码验证 → 4. 设置密码 → 5. 填写基本信息 → 6. 完成注册

### 🔐 用户登录流程
1. 登录页面 → 2. 手机号密码登录 → 3. 第三方登录(可选) → 4. 进入应用

### 🎯 核心使用流程
1. **星球流程**: 进入星球 → 查看状态 → 发布瞬间 → 参与互动
2. **社交流程**: 浏览广场 → 发布动态 → 互动交流 → 私聊匹配
3. **匹配流程**: 选择匹配类型 → 开始匹配 → 建立连接 → 开始聊天
4. **聊天流程**: 查看聊天列表 → 选择聊天 → 发送消息 → 实时互动
5. **直播流程**: 浏览直播 → 进入直播间 → 观看互动 → 发送礼物
6. **游戏流程**: 进入游戏中心 → 创建房间 → 邀请好友 → 语音开黑
7. **购物流程**: 浏览商品 → 查看详情 → 加入购物车 → 结算支付
8. **个人流程**: 查看资料 → 编辑信息 → 查看成就 → 设置偏好

## 🏆 积分系统设计

### 💰 积分获取方式
- **日常签到**: +10积分/天
- **发布动态**: +5积分/条
- **互动点赞**: +1积分/次
- **聊天互动**: +2积分/次
- **匹配成功**: +20积分/次
- **邀请好友**: +100积分/人

### 🛍️ 积分消费
- **皮肤购买**: 100-1000积分
- **特权解锁**: 500-5000积分
- **礼物发送**: 50-500积分
- **功能解锁**: 积分解锁高级功能

## 🎯 智能匹配系统设计

### 🧠 匹配算法
- **兴趣匹配**: 基于用户兴趣标签的相似度计算
- **地理位置**: 距离权重计算，优先推荐附近用户
- **活跃度匹配**: 根据用户活跃时间进行匹配
- **语音特征**: 声音相似度分析，音色匹配
- **综合评分**: 多维度权重计算，智能推荐

### 🎭 匹配类型
1. **灵魂匹配 (Soul Match)**
   - Soul风格的智能匹配
   - 基于用户性格和兴趣
   - 匹配成功后的聊天连接

2. **语音匹配 (Voice Match)**
   - 语音聊天匹配
   - 声音特征识别
   - 语音质量评估

3. **滑动匹配 (Swipe Match)**
   - 类似Tinder的滑动界面
   - 快速浏览和选择
   - 左右滑动表示喜欢/不喜欢

### 🔄 匹配流程
1. **用户设置**: 匹配偏好、隐私设置
2. **算法匹配**: 多维度匹配计算
3. **结果展示**: 推荐用户卡片
4. **用户选择**: 喜欢/不喜欢/超级喜欢
5. **建立连接**: 匹配成功后开始聊天

## 📊 数据模型设计

### 🗃️ 核心实体
- **用户(User)**: 基本信息、积分、等级、星球信息
- **动态(Post)**: 内容、位置、互动数据
- **聊天(Chat)**: 聊天记录、消息内容、参与者
- **匹配(Match)**: 匹配记录、匹配结果、成功率统计
- **积分(Points)**: 获取记录、消费记录
- **直播间(LiveRoom)**: 直播信息、观众列表、收益统计
- **游戏房间(GameRoom)**: 房间信息、参与者列表、语音状态
- **礼物(Gift)**: 礼物信息、发送记录、接收记录
- **连接(Link)**: 连接状态、连接历史、在线状态
- **通知(Notification)**: 消息通知、系统通知、推送记录

## 🔒 安全与隐私

### 🛡️ 数据安全
- 用户数据加密存储
- API接口鉴权
- 支付安全保护
- 隐私信息脱敏

### 🔐 隐私保护
- 位置信息权限控制
- 个人信息访问控制
- 数据使用透明度
- 用户数据删除权

## ⚡ 性能优化

### 🚀 PWA优化
- 离线缓存策略
- 资源预加载
- 图片懒加载
- 代码分割

### 💫 用户体验
- 加载状态提示
- 错误处理机制
- 网络状态检测
- 响应式设计

## 🚀 部署方案

### 🌐 前端部署
- 静态资源CDN
- Service Worker缓存
- 渐进式加载
- 离线功能支持

### ⚙️ 后端部署
- 微服务架构
- 容器化部署
- 负载均衡
- 数据库集群

## 📅 开发计划

### 🎯 第一阶段 (MVP) - 已完成
- ✅ 用户注册登录系统
- ✅ Soul风格星球页面
- ✅ 基础聊天功能
- ✅ 广场动态功能
- ✅ 基础匹配系统

### 🚀 第二阶段 - 进行中
- 🔄 完善匹配算法
- 🔄 直播功能开发
- 🔄 游戏中心功能
- 🔄 商城功能完善
- 🔄 积分系统优化

### 🎉 第三阶段 - 规划中
- 📋 AI推荐系统
- 📋 高级社交功能
- 📋 数据分析平台
- 📋 运营管理后台
- 📋 移动端优化
